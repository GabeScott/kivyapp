WindowManager:
	MainWindow:
		id:screen1
		name: 'screen1'
	SecondWindow:
		id:screen2
		name:'screen2'




<BackgroundColor@Widget>
    background_color: 1, 1, 1, 1
    canvas.before:
        Color:
            rgba: root.background_color
        Rectangle:
            size: self.size
            pos: self.pos

<BackgroundLabel@Label+BackgroundColor>
    background_color: 0, 0, 0, 0
    outline_color: 0,0,0,1





<MainWindow>:
	mygrid:mygrid

	MyGrid:
		name:"mygrid"
		id: mygrid
		timer:"timer"
		numplayers:numplayers
		curplayer:curplayer
		playername:playername
		displaynumplayers:displaynumplayers
		displayplayernames:displayplayernames
		totalpointslabel:totalpointslabel
		playbutton:playbutton

		FloatLayout:
			size: root.width, root.height
			size_hint: .6,.3

			GridLayout:
				size_hint: .1, .25
				cols: 1
				pos_hint: {"x": .45, "y": .25}
				Label:
					id:totalpointslabel
					valign: "bottom"



			GridLayout:
				size_hint: .65,.05
				cols:3
				pos_hint: {"x":.175, "y":.6}
				BackgroundLabel:
					size_hint: .3, 1
					text: "How Many Players?"
					background_color: .4,.4,.4,1
				TextInput:		
					size_hint: .3, 1	
					id: numplayers		
					multiline: False
					write_tab: False
					on_text_validate: mygrid.set_num_players()
				Button:
					size_hint: .1, 1
					text: "Enter"
					on_press: mygrid.set_num_players()
			GridLayout:
				size_hint: .65,.05
				cols:3
				pos_hint: {"x":.175, "y":.53}
				BackgroundLabel:
					id: curplayer
					text: "Player"
					text_size: self.width, None
					halign: "center"
					size_hint: .3, 1
					height: self.texture_size[1]
					background_color: .4,.4,.4,1
				TextInput:			
					size_hint: .3, 1	
					id: playername
					multiline: False
					write_tab: False
					on_text_validate: mygrid.submit_player_name()
				Button:
					size_hint: .1, 1
					text: "Add"
					on_press: mygrid.submit_player_name()		

			GridLayout:
				size_hint: .2,.1
				cols:1
				pos_hint:{"x": .4, "y":.1}
				Button:
					id:playbutton
					text:"Play!"
					on_press: mygrid.check_timer_status()
					on_release:
						app.root.go_to_game_screen()		

			GridLayout:
				size_hint: 1,1
				cols:2
				pos_hint:{"x": 0, "y":0}
				BackgroundLabel:
					text_size: self.width, None
					pos_hint: {"x":1, "y":0}
					text: "Number of Players: "
					id: displaynumplayers
					halign: "center"
					size_hint: .5, None
				BackgroundLabel:
					pos_hint: {"x":0, "y":0}
					text_size: self.width, None
					text: "Players: "
					id: displayplayernames
					halign: "left"
					size_hint: .5, None


<SecondWindow>:
	myscoregrid:myscoregrid
	MyScoreGrid:
		name: 'myscoregrid'
		id: myscoregrid
		size_hint: 1, 1

		GridLayout:
			cols:2
			size_hint:.3, .07
			pos_hint:{"x":.70, "y":.7 }
			Button:
				text:"Miss"
				on_press: myscoregrid.add_zero_points()	

			Button:
				size_hint:.5,1
				text:"End Game"
				on_press: myscoregrid.update_overall_points()
				on_release:
                    app.root.current = "screen1"
                    root.manager.transition.direction = "right"
            				
